<div class="row form-group">
  <div class="col-xs-12 nomargin">
    <ul class="nav nav-pills nav-justified thumbnail setup-panel nomargin">
      <li [ngClass]="{'active': this.currentStep.id === 'STEP-1', 'disabled':  isDisableStep('STEP-1')}">
        <a (click)="changeStepWizard('STEP-1')">
          <h4 class="list-group-item-heading">Step 1</h4>
          <p class="list-group-item-text">Package configuration</p>
        </a>
      </li>
      <li [ngClass]="{'active': this.currentStep.id === 'STEP-2', 'disabled':  isDisableStep('STEP-2')}">
        <a (click)="changeStepWizard('STEP-2')">
          <h4 class="list-group-item-heading">Step 2</h4>
          <p class="list-group-item-text">Core Engine configuration</p>
        </a>
      </li>
      <li [ngClass]="{'active': this.currentStep.id === 'STEP-3', 'disabled':  isDisableStep('STEP-3')}">
        <a (click)="changeStepWizard('STEP-3')">
          <h4 class="list-group-item-heading">Step 3</h4>
          <p class="list-group-item-text">Filter Engine configuration</p>
        </a>
      </li>
      <li [ngClass]="{'active': this.currentStep.id === 'STEP-4', 'disabled':  isDisableStep('STEP-4')}">
        <a (click)="changeStepWizard('STEP-4')">
          <h4 class="list-group-item-heading">Step 4</h4>
          <p class="list-group-item-text">Modules configuration</p>
        </a>
      </li>
      <li [ngClass]="{'active': this.currentStep.id === 'STEP-5', 'disabled':  isDisableStep('STEP-5')}">
        <a (click)="changeStepWizard('STEP-5')">
          <h4 class="list-group-item-heading">Step 5</h4>
          <p class="list-group-item-text">Validation</p>
        </a>
      </li>
    </ul>
  </div>
</div>

<div class="row" *ngIf="this.currentStep.id === 'STEP-1'">
  <div class="col-lg-12 col-md-12 col-xs-12">
    <fix-widget>
      <fix-widget-body>
        <div class="form-horizontal configuration-container">
          <div class="col-sm-12 form-section-title">
            Package configuration
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Name</label>
            <div class="col-sm-3">
              <input class="form-control" id="container_name" placeholder="e.g. myPackage" type="text">
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Platform</label>
            <div class="col-sm-3">
              <select class="form-control input-sm">
                <option data-icon="fa fa-linux" label="DockerHub" value="object:266" selected="selected"> Linux-Docker01</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Common Env</label>
            <div class="col-sm-10">
              <label class="radio-inline fix-form-label" (click)="setCommonEnv(true)">
                <input type="radio" name="optradio" [checked]="packageConfig.commonEnv.enable">Yes</label>
              <label class="radio-inline fix-form-label" (click)="setCommonEnv(false)">
                <input type="radio" name="optradio" [checked]="!packageConfig.commonEnv.enable">No</label>
            </div>
          </div>

          <div class="form-group" *ngIf="packageConfig.commonEnv.enable">
            <div class="col-sm-10 col-sm-offset-2">
              <div class="pull-left">
                <i class="fa fa-file-code-o" aria-hidden="true"></i>
                common_env.cfg
              </div>
            </div>
            <div class="col-sm-10 col-sm-offset-2">
              <div class="editor" style="height:300px;">
                <codemirror [(ngModel)]="packageConfig.commonEnv.content" [config]="configEditor"></codemirror>
              </div>
            </div>
          </div>
        </div>
      </fix-widget-body>
      <fix-widget-footer>
        <div class="row form-group nomargin">
          <div class="col-sm-12 nomargin">
            <button class="btn btn-sm btn-primary pull-left disabled">
              <i class="fa fa-caret-left space-right" aria-hidden="true"></i>Previous</button>
            <button class="btn btn-primary btn-sm pull-right" (click)="goToNextStep()">Next
              <i class="fa fa-caret-right space-left" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </fix-widget-footer>
    </fix-widget>
  </div>
</div>

<div class="rowr" *ngIf="this.currentStep.id === 'STEP-2'">
  <div class="col-lg-12 col-md-12 col-xs-12">
    <fix-widget>
      <fix-widget-body>
        <div class="form-horizontal configuration-container">
          <div class="col-sm-12 form-section-title">
            Core Engine configuration
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Platform</label>
            <div class="col-sm-3">
              <label for="container_name" class="control-label text-left">
                <i class="fa fa-linux space-right" aria-hidden="true"></i>Linux</label>
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Version</label>
            <div class="col-sm-3">
              <select class="form-control input-sm">
                <option label="DockerHub" selected="selected"> 5.7.0.0</option>
                <option label="DockerHub"> 5.6.4.0</option>
                <option label="DockerHub"> 5.6.4.1</option>
              </select>
            </div>
          </div>

        </div>
      </fix-widget-body>
      <fix-widget-footer>
        <div class="row form-group nomargin">
          <div class="col-sm-12 nomargin">
            <button class="btn btn-sm btn-primary pull-left disabled">
              <i class="fa fa-caret-left space-right" aria-hidden="true"></i>Previous</button>
            <button class="btn btn-primary btn-sm pull-right" (click)="goToNextStep()">Next
              <i class="fa fa-caret-right space-left" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </fix-widget-footer>
    </fix-widget>
  </div>
</div>

<div class="rowr" *ngIf="this.currentStep.id === 'STEP-3'">
  <div class="col-lg-12 col-md-12 col-xs-12">
    <fix-widget>
      <fix-widget-body>
        <div class="form-horizontal configuration-container">
          <div class="col-sm-12 form-section-title">
            Filter Engine configuration
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Platform</label>
            <div class="col-sm-3 space-top">
              <div class="control-label nomargin nopadding fix-label space-right pull-left">
                <i class="fa fa-linux space-right" aria-hidden="true"></i>Linux</div>
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Module package</label>
            <div class="col-sm-10">
              <div class="row">
                <div class="col-sm-2 nopadding">
                  <div class="radio">
                    <label>
                      <input type="radio" name="optradio">Find in Nexus</label>
                  </div>
                </div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-1 control-label nomargin nopadding fix-label space-right">Version</div>
                <div class="col-sm-3">
                  <select class="form-control input-sm">
                    <option label="DockerHub" data-icon="fa fa-linux" selected="selected"> 5.7.0.0</option>
                    <option label="DockerHub"> 5.7.1.0</option>
                    <option label="DockerHub"> 5.7.6.0</option>
                  </select>
                </div>
                <div class="col-sm-1 control-label nomargin nopadding fix-label space-right">Push</div>
                <div class="col-sm-3">
                  <select class="form-control input-sm">
                    <option label="DockerHub" data-icon="fa fa-linux" selected="selected"> 300</option>
                    <option label="DockerHub"> 500</option>
                    <option label="DockerHub"> 100</option>
                  </select>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-2 nopadding">
                  <div class="radio">
                    <label>
                      <input type="radio" name="optradio">Find with URL</label>
                  </div>
                </div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-1 control-label nomargin nopadding fix-label space-right">URL</div>
                <div class="col-sm-9">
                  <div class="input-group input-group-sm">
                    <span class="input-group-addon" id="basic-addon3">https://</span>
                    <input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-2 nopadding">
                  <div class="radio">
                    <label>
                      <input type="radio" name="optradio">Add Package file</label>
                  </div>
                </div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-2 control-label nomargin nopadding fix-label space-right" style="text-align:left;">(none)</div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-2 control-label nomargin nopadding fix-label space-right">Package file (.zip, .tar.gz)</div>
                <div class="col-sm-9">
                  <button class="btn btn-default btn-sm nomargin" data-toggle="modal" data-target="#myModal">
                    <i class="fa fa-files-o space-right" aria-hidden="true"></i>Add File
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">KZ file</label>

            <div class="col-sm-10">
              <div class="row space-top">
                <div class="col-sm-2 nopadding">
                  <div class="control-label nomargin nopadding fix-label space-right pull-left">
                    (none)</div>

                </div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-2 control-label nomargin nopadding fix-label space-right">Kz file (.kz, .t)</div>
                <div class="col-sm-9">
                  <button class="btn btn-default btn-sm nomargin" data-toggle="modal" data-target="#myModal">
                    <i class="fa fa-files-o space-right" aria-hidden="true"></i>Add Files
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Fml files</label>

            <div class="col-sm-10">
              <div class="row space-top">
                <div class="col-sm-2 nopadding">
                  <div class="control-label nomargin nopadding fix-label space-right pull-left">
                    (none)</div>

                </div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-2 control-label nomargin nopadding fix-label space-right">Fml file (fml.rul, fml1.rul)</div>
                <div class="col-sm-9">
                  <button class="btn btn-default btn-sm nomargin" data-toggle="modal" data-target="#myModal">
                    <i class="fa fa-files-o space-right" aria-hidden="true"></i>Add Files
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Score file</label>

            <div class="col-sm-10">
              <div class="row space-top">
                <div class="col-sm-2 nopadding">
                  <div class="control-label nomargin nopadding fix-label space-right pull-left">
                    (none)</div>

                </div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-2 control-label nomargin nopadding fix-label space-right">Fml file (score.scd)</div>
                <div class="col-sm-9">
                  <button class="btn btn-default btn-sm nomargin" data-toggle="modal" data-target="#myModal">
                    <i class="fa fa-files-o space-right" aria-hidden="true"></i>Add File
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">Licence file</label>

            <div class="col-sm-10">
              <div class="row space-top">
                <div class="col-sm-2 nopadding">
                  <div class="control-label nomargin nopadding fix-label space-right pull-left">
                    (none)</div>

                </div>
              </div>
              <div class="row fix-sub-form">
                <div class="col-sm-2 control-label nomargin nopadding fix-label space-right">Licence file</div>
                <div class="col-sm-9">
                  <button class="btn btn-default btn-sm nomargin" data-toggle="modal" data-target="#myModal">
                    <i class="fa fa-files-o space-right" aria-hidden="true"></i>Add File
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- <div class="form-group">
            <label for="container_name" class="col-sm-2 control-label text-left">File uploads</label>
            <div class="col-sm-10">
              <div ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}" (fileOver)="fileOverBase($event)" [uploader]="uploader"
                class="well my-drop-zone">
                Base drop zone
              </div>

              <div ng2FileDrop [ngClass]="{'another-file-over-class': hasAnotherDropZoneOver}" (fileOver)="fileOverAnother($event)" [uploader]="uploader"
                class="well my-drop-zone">
                Another drop zone
              </div>
              Multiple
              <input type="file" ng2FileSelect [uploader]="uploader" multiple />
              <br/> Single
              <input type="file" ng2FileSelect [uploader]="uploader" />
            </div>
            <div class="col-sm-10">
              <div class="col-md-9" style="margin-bottom: 40px">

                <h3>Upload queue</h3>
                <p>Queue length: {{ uploader?.queue?.length }}</p>

                <table class="table">
                  <thead>
                    <tr>
                      <th width="50%">Name</th>
                      <th>Size</th>
                      <th>Progress</th>
                      <th>Status</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of uploader.queue">
                      <td>
                        <strong>{{ item?.file?.name }}</strong>
                      </td>
                      <td *ngIf="uploader.isHTML5" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
                      <td *ngIf="uploader.isHTML5">
                        <div class="progress" style="margin-bottom: 0;">
                          <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
                        </div>
                      </td>
                      <td class="text-center">
                        <span *ngIf="item.isSuccess">
                          <i class="glyphicon glyphicon-ok"></i>
                        </span>
                        <span *ngIf="item.isCancel">
                          <i class="glyphicon glyphicon-ban-circle"></i>
                        </span>
                        <span *ngIf="item.isError">
                          <i class="glyphicon glyphicon-remove"></i>
                        </span>
                      </td>
                      <td nowrap>
                        <button type="button" class="btn btn-success btn-xs" (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
                          <span class="glyphicon glyphicon-upload"></span> Upload
                        </button>
                        <button type="button" class="btn btn-warning btn-xs" (click)="item.cancel()" [disabled]="!item.isUploading">
                          <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                        </button>
                        <button type="button" class="btn btn-danger btn-xs" (click)="item.remove()">
                          <span class="glyphicon glyphicon-trash"></span> Remove
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>

                <div>
                  <div>
                    Queue progress:
                    <div class="progress">
                      <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
                    </div>
                  </div>
                  <button type="button" class="btn btn-success btn-s" (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">
                    <span class="glyphicon glyphicon-upload"></span> Upload all
                  </button>
                  <button type="button" class="btn btn-warning btn-s" (click)="uploader.cancelAll()" [disabled]="!uploader.isUploading">
                    <span class="glyphicon glyphicon-ban-circle"></span> Cancel all
                  </button>
                  <button type="button" class="btn btn-danger btn-s" (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">
                    <span class="glyphicon glyphicon-trash"></span> Remove all
                  </button>
                </div>

              </div>
            </div>
          </div> -->

        </div>
      </fix-widget-body>
      <fix-widget-footer>
        <div class="row form-group nomargin">
          <div class="col-sm-12 nomargin">
            <button class="btn btn-sm btn-primary pull-left disabled">
              <i class="fa fa-caret-left space-right" aria-hidden="true"></i>Previous</button>
            <button class="btn btn-primary btn-sm pull-right" (click)="goToNextStep()">Next
              <i class="fa fa-caret-right space-left" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </fix-widget-footer>
    </fix-widget>
  </div>
</div>

<div class="row" *ngIf="this.currentStep.id === 'STEP-4'">
  <div class="col-lg-12 col-md-12 col-xs-12">STEP 4</div>
</div>

<div class="row" *ngIf="this.currentStep.id === 'STEP-5'">
  <div class="col-lg-12 col-md-12 col-xs-12">STEP 5</div>
</div>



<!-- Modals -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">
          <i class="fa fa-files-o space-right" aria-hidden="true"></i>Files upload</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <input type="file" ng2FileSelect [uploader]="uploader" multiple />
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div ng2FileDrop [ngClass]="{'nv-file-over': dropZoneOver}" (fileOver)="fileOver($event)" [uploader]="uploader" class="well fix-drop-zone">
              Drop files here
            </div>
          </div>
        </div>
        <div class="row">
          <ul class="col-sm-6 list-unstyled">
            <li *ngFor="let item of uploader.queue">
              <i class="fa fa-times space-right" aria-hidden="true" (click)="item.remove()"></i>
              <i class="fa fa-file space-right" aria-hidden="true"></i>
              {{ item?.file?.name }}</li>
          </ul>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">
          <i class="fa fa-ban space-right" aria-hidden="true"></i>
          Cancel</button>
        <button type="button" class="btn btn-primary" (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">
          <i class="fa fa-cloud-upload space-right" aria-hidden="true"></i>
          Upload All</button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->